# Новиков Валерий 253504
# MIDI-секвенсор
# ОПИСАНИЕ ПРОЕКТА
## 1 Общие сведения
### 1.1  Описание проекта
Целью проекта является создание программы, позволяющей создание, редактирование и воспроизведение последовательности звуков на основе MIDI-формата и инструментов.
## 2 Описание проекта
### 2.1 Язык программирования
Для реализации программы будет использован язык программирования C# и библиотека с открытым исходным кодом NAudio. В последствии для графического интерфейса будет использоваться фреймворк .NET MAUI.
### 2.2 Функционал проекта

#### 2.2.1 Рабочее пространство
При создании нового проекта или при загрузке из файла пользователю будет представлено рабочее пространство, позволяющее добавлять дорожки с инструментами, редактировать громкость и скорость воспроизведения композиции, редактировать последовательность нот выбранной дорожки и управлять воспроизведением текущей составленной композиции.

#### 2.2.2 Звуковые дорожки
Пользователю будет дана возможность добавления дорожек музыкальных инструментов, каждая из которых будет содержать определенную нотную последовательность. На выбор будет предоставлено 158 MIDI-инструментов, 46 из которых ударные. Каждой новой дорожке будет выделяться канал для воспроизведения. В связи с ограничениями MIDI для ударных может быть выделен только один канал под заданным номером, поэтому больше одной дорожки ударных инструментов добавить будет нельзя. На другие инструменты это распространяться не будет. Так же для каждой конкретной дорожки будет предоставлена возможность редактирования громкости и выбора самого инструмента.

#### 2.2.3 Дорожка ударных инструментов
Имеет тот же функционал, что и обычная звуковая дорожка. Отличиями от обычных дорожек являются: кол-во возможных дорожек ударных инструментов ограничено до 1 из-за ограничений MIDI, нет октав как у обычных инструментов, вместо диапазона нот рабочем пространстве отдельные ударные инструменты. 

#### 2.2.4 Сетка редактирования
При выборе дорожки пользователю будет доступна область редактирования нотной последовательности, представляющая из себя сетку. При нажатии на элемент сетки в него будет добавляться нота. При воспроизведении составленной композиции программа будет проходиться вдоль сетки и проигрывать ноты, добавленные пользователем в сетку. Также будет предоставлена возможность изменения длительности одной ноты.

#### 2.2.5 Нота
Сетка редактирования будет содержать в себе ноты, у которых будет два свойства состояния. Первое свойство будет хранить в себе то, будет ли нота проигрываться при воспроизведении или нет. Это необходимо для редактирования длительности ноты в сетке редактирования. При увеличении длительности одной ноты на еще одну длительность, две ноты будут объединяться. В сетке это будет происходить буквально. В программной логике при таком процессе длительность будет увеличиваться только у первой ноты, а остальные будут заблокированы для воспроизведения. Второе свойство ноты необходимо как раз для визуального показателя ноты с увеличенной длительностью. В сетке нота с увеличенной длительностью будет выглядеть как более длинная нота. Например, если нота будет увеличена по длительности в три раза, то в сетке она будет занимать место трех нот. Визуально такая нота будет состоять из трех частей, пример показан на рисунке:

![image](https://github.com/NovikovValeriy/OOP/assets/125986599/7f2fd7d8-cabb-44b0-94de-6548c7f55098)


#### 2.2.6 Сохранение композиции
Для сохранения результата будет предоставлена возможность сохранить композицию в файле пользовательского формата

### 2.3 Список функций

#### 2.3.1 Функции рабочего пространства
play() - воспроизводит композицию с последнего места остановки

pause() - ставит воспроизведение композиции на паузу

stop() - останавливает воспроизведение композиции и возвращает точку воспроизведения в начало композиции

addTrack() - добавляет звуковую дорожку

removeTrack() - удаляет звуковую дорожку и последовательность, содержащуюся в ней

loadFile() - загружает файл из директории

saveFile() - сохраняет текущую композицию в текущий или новый файл

saveAsNewFile() - сохраянет текущую композицию в новый файл


#### 2.3.2 Функции звуковых дорожек
play() - воспроизводит текущую звуковую дорожку

pause() - ставит воспроизведение текущей звуковой дорожки на паузу

stop() - останавливает воспроизведение текущей звуковой дорожки и возвращает точку воспроизведения в начало звуковой дорожки

changeInstrument() - меняет инструмент текущей дорожки

addNote() - добавляет ноту в сетке редактирования

deleteNote() - удаляет ноту из сетки редактирования

increaseNoteDuration() - увеличивает длительность ноты

decreaseNoteDuration() - уменьшает длительность ноты


#### 2.3.3 Функции дорожки ударных инструментов
play() - воспроизводит текущую звуковую дорожку

pause() - ставит воспроизведение текущей звуковой дорожки на паузу

stop() - останавливает воспроизведение текущей звуковой дорожки и возвращает точку воспроизведения в начало звуковой дорожки

addNote() - добавляет ноту в сетке редактирования

deleteNote() - удаляет ноту из сетки редактирования

increaseNoteDuration() - увеличивает длительность ноты

decreaseNoteDuration() - уменьшает длительность ноты

### 2.4 Диаграмма классов
![ClassDiagram1](https://github.com/NovikovValeriy/OOP/assets/125986599/a2005d59-5402-4ebd-b894-6b4e33a063d5)

